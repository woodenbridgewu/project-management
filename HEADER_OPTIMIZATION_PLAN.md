# Header 優化實作計劃

## 📊 當前狀態評估

### ✅ 已完成
- [x] 建立全域常駐 Header 組件
- [x] 整合通知中心到所有頁面
- [x] 添加用戶資訊顯示（頭像 + 名稱）
- [x] 固定定位和內容區域調整
- [x] 基本響應式設計（移動端隱藏用戶名稱）

### 🔄 需要評估：用戶下拉選單優化

**當前設計：**
- 顯示：頭像 + 用戶名稱 + 登出按鈕（水平排列）
- 空間佔用：較多

**優化方案：**
- 只顯示頭像，點擊後顯示下拉選單
- 下拉選單包含：用戶名稱、個人設定、登出
- 優點：節省空間、可擴展功能、符合現代 UI 模式
- 缺點：需要額外開發工作

**建議：** ⭐ **建議實作** - 為未來功能擴展（個人設定、工作區切換等）預留空間

---

## 🎯 接下來的優化優先級

### 階段三：頁面整合（高優先級）⭐ 建議先實作

#### 3.1 統一返回按鈕和頁面標題
**目標：** 將各頁面的返回按鈕和標題整合到全域 Header

**影響頁面：**
- ✅ Dashboard - 已完成（無返回按鈕）
- ⚠️ Workspace List - 有返回按鈕 + 標題「工作區」
- ⚠️ Workspace Detail - 有返回按鈕 + 標題「工作區名稱」
- ⚠️ Project Board - 有返回按鈕 + 標題「專案名稱」
- ⚠️ Task Detail - 有返回按鈕（無標題，任務標題在內容區）
- ⚠️ Task List - 有標題「任務列表」（無返回按鈕）

**實作方案：**
1. 在 Header 中間區域添加「頁面標題」顯示
2. 在 Header 左側添加「返回按鈕」（根據路由智能顯示）
3. 移除各頁面的獨立 header
4. 調整各頁面的 padding-top

**預估工作量：** 中等（需要處理多個頁面）

---

#### 3.2 整合頁面特定操作按鈕
**目標：** 將各頁面的操作按鈕整合到 Header 右側

**需要整合的按鈕：**
- Workspace Detail: 「管理成員」、「建立專案」
- Workspace List: 「建立工作區」
- Project Board: 「新增區段」
- Task List: 「新增任務」
- Task Detail: 「編輯」、「刪除」（可保留在內容區，或移到 Header）

**實作方案：**
1. Header 組件接收 `@Input()` 來顯示頁面特定操作
2. 各頁面組件通過服務或事件傳遞操作按鈕配置
3. 或使用 Content Projection（`ng-content`）讓頁面插入自訂按鈕

**預估工作量：** 中等（需要設計組件通信機制）

---

### 階段四：功能增強（中優先級）

#### 4.1 用戶下拉選單 ⭐ 建議實作
**功能：**
- 點擊頭像顯示下拉選單
- 顯示用戶資訊（名稱、郵箱）
- 選單項目：
  - 個人設定（未來）
  - 工作區切換（未來）
  - 登出

**預估工作量：** 小（UI 組件）

---

#### 4.2 麵包屑導航
**功能：**
- 顯示當前頁面路徑（如：首頁 > 工作區 > 專案名稱）
- 可點擊導航到上層頁面

**預估工作量：** 小（需要路由資訊）

---

#### 4.3 搜尋功能
**功能：**
- 在 Header 添加搜尋框
- 快速搜尋任務、專案、工作區
- 搜尋建議和快捷鍵（`/` 或 `Cmd+K`）

**預估工作量：** 大（需要後端 API 支援）

---

### 階段五：進階功能（低優先級）

#### 5.1 主題切換
- 深色/淺色模式切換

#### 5.2 工作區快速切換
- 下拉選單快速切換工作區

#### 5.3 鍵盤快捷鍵
- 全域快捷鍵支援

---

## 📋 建議的實作順序

### 第一階段（立即實作）
1. ✅ **用戶下拉選單** - 優化用戶資訊顯示，為未來功能預留空間
2. ✅ **統一返回按鈕和頁面標題** - 移除各頁面獨立 header，統一體驗

### 第二階段（後續實作）
3. **整合頁面特定操作按鈕** - 統一操作按鈕位置
4. **麵包屑導航** - 改善導航體驗

### 第三階段（未來）
5. **搜尋功能** - 需要後端 API 支援
6. **主題切換** - 進階功能
7. **工作區快速切換** - 進階功能

---

## 🎨 設計考量

### Header 布局結構（建議）
```
┌─────────────────────────────────────────────────────────┐
│ [返回] [Logo] [頁面標題/麵包屑]    [搜尋] [通知] [用戶] │
└─────────────────────────────────────────────────────────┘
```

### 響應式設計
- **桌面端（> 768px）**：完整顯示所有功能
- **平板端（768px - 1024px）**：隱藏部分次要功能
- **手機端（< 768px）**：只顯示核心功能，其他放入漢堡選單

---

## ✅ 決策建議

### 用戶下拉選單
**建議：實作** ⭐
- 理由：節省空間、可擴展、符合現代 UI 模式
- 工作量：小（1-2 小時）
- 價值：高（為未來功能預留空間）

### 統一返回按鈕和頁面標題
**建議：實作** ⭐⭐
- 理由：統一體驗、移除重複代碼、改善一致性
- 工作量：中等（2-3 小時）
- 價值：高（核心體驗改善）

### 整合頁面特定操作按鈕
**建議：後續實作**
- 理由：需要設計組件通信機制，可以先完成其他更重要的功能
- 工作量：中等（2-3 小時）
- 價值：中（改善一致性，但非緊急）

---

## 📝 下一步行動

1. **確認是否實作用戶下拉選單優化**
2. **開始實作統一返回按鈕和頁面標題**
3. **移除各頁面的獨立 header**
4. **測試和調整**

